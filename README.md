# FoodDecision ‚Äî README (RU)

–ù–µ–±–æ–ª—å—à–æ–µ Rails-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –µ–¥—ã –ø–æ –∫–∞—Ä—Ç–∏–Ω–∫–µ: –≤—ã–±–∏—Ä–∞–µ—à—å —Ç–µ–º—É, –ø–æ–ª—É—á–∞–µ—à—å —Å–ª—É—á–∞–π–Ω–æ–µ –±–ª—é–¥–æ, —Å—Ç–∞–≤–∏—à—å –æ—Ü–µ–Ω–∫—É 1‚Äì5 –∏ –¥–æ–±–∞–≤–ª—è–µ—à—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ ‚òÖ.  
–ï—Å—Ç—å RU/EN, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ü–µ–Ω–∫–∞–º –∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–µ¬ª.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Devise): —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –≤—Ö–æ–¥ / –≤—ã—Ö–æ–¥
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞: üá∑üá∫ / üá¨üáß (—á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `/:lang`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è `ru|en`)
- –í—ã–±–æ—Ä —Ç–µ–º—ã –±–ª—é–¥–∞ (chips) + `üé≤ Random`
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –±–ª—é–¥–∞ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º–µ
- –û—Ü–µ–Ω–∫–∞ 1‚Äì5 (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
- ‚òÖ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (toggle-–∑–≤—ë–∑–¥–æ—á–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –±–ª—é–¥–∞)
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´My ratings¬ª (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏)
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´Favorites¬ª (–∏–∑–±—Ä–∞–Ω–Ω—ã–µ –±–ª—é–¥–∞)

---

## –°—Ç–µ–∫

- Ruby on Rails 7.2.x
- PostgreSQL
- Devise
- I18n (ru/en)

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ruby (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å Rails 7.2)
- PostgreSQL
- Bundler

---

## –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ:

### 1) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
bundle install
```

### 2) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–£–±–µ–¥–∏—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω.

–°–æ–∑–¥–∞—Ç—å –ë–î –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
bin/rails db:create
bin/rails db:migrate
```

### 3) (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
–ï—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å seeds:
```bash
bin/rails db:seed
```

### 4) –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
bin/rails s
```

–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://localhost:3000/ru
- http://localhost:3000/en

---

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (RU/EN)

–õ–æ–∫–∞–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `ApplicationController`:

```rb
I18n.locale = params[:lang].presence_in(%w[ru en]) || :ru
```

–ü–∞—Ä–∞–º–µ—Ç—Ä —è–∑—ã–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ URL —á–µ—Ä–µ–∑ `default_url_options`.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- `/ru` ‚Äî –≥–ª–∞–≤–Ω–∞—è (–≤—ã–±–æ—Ä —Ç–µ–º—ã, –∫–∞—Ä—Ç–∏–Ω–∫–∞ –±–ª—é–¥–∞, –æ—Ü–µ–Ω–∫–∞, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
- `/ru/ratings` ‚Äî ¬´My ratings¬ª (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + –∏—Å—Ç–æ—Ä–∏—è –æ—Ü–µ–Ω–æ–∫)
- `/ru/favorites` ‚Äî ¬´Favorites¬ª (–∏–∑–±—Ä–∞–Ω–Ω—ã–µ –±–ª—é–¥–∞)

---

## API (—Ñ—Ä–æ–Ω—Ç —é–∑)

- `GET /:lang/api/dishes/next?theme=...`
  - `theme` –º–æ–∂–µ—Ç –±—ã—Ç—å `"random"` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç–µ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `fast`, `healthy`, `sweet`)
  - –û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç `dish` –∏ `my_rating`, –∞ —Ç–∞–∫–∂–µ `dish.is_favorite`

- `POST /:lang/api/ratings`
  - Body JSON: `{ "dish_id": 1, "score": 5 }`

- `POST /:lang/api/favorites/toggle`
  - Body JSON: `{ "dish_id": 1 }`
  - –û—Ç–≤–µ—Ç: `{ "ok": true, "favorited": true }` –∏–ª–∏ `{ "ok": true, "favorited": false }`

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (–∫—Ä–∞—Ç–∫–æ)

- `User` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Devise)
- `Dish` ‚Äî –±–ª—é–¥–æ (title, theme, image_url, ‚Ä¶)
- `Rating` ‚Äî –æ—Ü–µ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–ª—é–¥—É (user_id, dish_id, score)
- `Favorite` ‚Äî –∏–∑–±—Ä–∞–Ω–Ω–æ–µ (user_id, dish_id), —É–Ω–∏–∫–∞–ª—å–Ω–æ –ø–æ –ø–∞—Ä–µ user+dish

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã:
```bash
bin/rails routes
```

–ö–æ–Ω—Å–æ–ª—å:
```bash
bin/rails c
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ì–¥–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

- Layout / —à–∞–ø–∫–∞: `app/views/layouts/application.html.erb`
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: `app/views/decisions/index.html.erb` (–∏–ª–∏ `home/index.html.erb` ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞)
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤: `app/views/ratings/index.html.erb`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ: `app/views/favorites/index.html.erb`
- API:
  - `app/controllers/api/dishes_controller.rb`
  - `app/controllers/api/ratings_controller.rb`
  - `app/controllers/api/favorites_controller.rb`
- –ü–µ—Ä–µ–≤–æ–¥—ã:
  - `config/locales/ru.yml`
  - `config/locales/en.yml`

---
