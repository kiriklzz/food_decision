<div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
  <h1><%= t("app.name") %></h1>

  <div style="display:flex; gap:8px;">
    <%= link_to "RU", url_for(lang: "ru"), style: "padding:6px 10px; border:1px solid #ddd; border-radius:8px; text-decoration:none;" %>
    <%= link_to "EN", url_for(lang: "en"), style: "padding:6px 10px; border:1px solid #ddd; border-radius:8px; text-decoration:none;" %>
  </div>
</div>

<p><%= t("ui.logged_in_as") %>: <%= current_user.email %></p>

<%= button_to t("ui.logout"), destroy_user_session_path, method: :delete %>

<hr>

<label><%= t("ui.theme") %>:</label>
<select id="themeSelect">
  <% Dish.distinct.order(:theme).pluck(:theme).each do |th| %>
    <option value="<%= th %>"><%= th %></option>
  <% end %>
</select>

<button id="nextBtn"><%= t("ui.next_image") %></button>
<span id="status"></span>

<div id="dishCard" style="display:none; margin-top:16px;">
  <h2 id="dishTitle"></h2>
  <img id="dishImage" style="max-width:700px; border-radius:10px;" />

  <p id="dishMeta"></p>

  <div style="margin-top:10px;">
    <span><%= t("ui.rate") %> (1â€“5): </span>
    <% (1..5).each do |s| %>
      <button class="rate-btn" data-score="<%= s %>"><%= s %></button>
    <% end %>
    <span id="ratingInfo"></span>
  </div>
</div>

<script>
  window.CSRF_TOKEN = "<%= form_authenticity_token %>";
  window.I18N_LOADING = "<%= t('ui.loading') %>";
  window.I18N_SAVED = "<%= t('ui.saved') %>";
  window.I18N_ERROR = "<%= t('ui.error') %>";
  window.I18N_META = "<%= t('ui.meta', theme: '%{theme}', avg: '%{avg}', my: '%{my}') %>";
</script>
